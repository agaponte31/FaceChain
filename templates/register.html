{% extends "base.html" %}
{% load static %}

{% block title %} Captura{% endblock %}

{% block content %}
{% load crispy_forms_tags %}

<p> </p>


    
    <img id="lastFrame" src="../static/tmp/.tmp.jpg" alt="Último frame capturado aparecerá aquí" style="float: left;">
    
    
    <form id="miFormulario" method="post" style="float: left; padding: 4em;">
        {% csrf_token %}

        <div class="card mx-auto" style="width: 30rem; background-color: whitesmoke;">
            <div class="card-body">
              <h5 class="card-title">Ingrese datos de usuario</h5>
                {{ form | crispy }}
                <button type="submit" class="btn btn-primary btn-md">
                    <span id="spinner" class="spinner-border spinner-border-sm" style="display: none;" aria-hidden="true"></span>
                    <span id="textoBoton">Enviar</span>
                </button>
                
            </div>
        </div>
    </form>
    
<script>

    document.getElementById('miFormulario').addEventListener('submit', function() {
        const boton = document.querySelector('button[type="submit"]');
        const spinner = document.getElementById('spinner');
        const textoBoton = document.getElementById('textoBoton');

        spinner.style.display = 'inline-block';
        textoBoton.textContent = 'Procesando...';
        boton.disabled = true;
});

</script>
 

{% endblock %}